(()=>{function B(e,t){let o=document.getElementById("toast-container");if(!o)return;let n=document.createElement("div");n.className=`toast toast-${t}`;let c=t==="success"?'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="currentColor"/></svg>':'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/></svg>';n.innerHTML=`
    <div class="toast-icon">${c}</div>
    <div class="toast-message">${e}</div>
    <button class="toast-close" aria-label="Fechar">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
      </svg>
    </button>
  `;let m=n.querySelector(".toast-close");m.addEventListener("click",()=>{L(n)}),o.appendChild(n),m.focus(),setTimeout(()=>{L(n)},5e3)}function L(e){e.classList.add("hiding"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}function T(){let e=document.querySelector(".header"),t=0;(window.pageYOffset||document.documentElement.scrollTop)>100?e.dataset.active="true":e.dataset.active="false",window.addEventListener("scroll",function(){let n=window.pageYOffset||document.documentElement.scrollTop;n>100?e.dataset.active="true":e.dataset.active="false",t=n})}function D(){let e=document.body,t=document.getElementById("nav-menu-button"),o=document.getElementById("nav-menu-drawer"),n=document.getElementById("nav-menu-drawer-backdrop");t.addEventListener("click",function(){e.classList.toggle("no-scroll");let c=o.dataset.active==="true";o.dataset.active=c?"false":"true"}),n.addEventListener("click",function(){e.classList.toggle("no-scroll");let c=o.dataset.active==="true";o.dataset.active=c?"false":"true"})}function S(){let e=document.getElementById("nav-dropdown-toggle-mobile");e&&e.addEventListener("click",function(){let t=document.getElementById("nav-dropdown-mobile");if(t){t.classList.toggle("active");let o=t.querySelectorAll(".nav-dropdown-item");t.classList.contains("active")?o.forEach(n=>{n.setAttribute("tabindex","0")}):o.forEach(n=>{n.setAttribute("tabindex","-1")})}})}document.addEventListener("DOMContentLoaded",function(){T(),D(),S()});var w=[{id:"alimentacao",title:"Ajuda para a alimenta\xE7\xE3o",description:"Fornecemos alimentos para os sem-teto e aqueles que precisam.",image:"../assets/media/projects-food-media.jpg",imageAlt:"Food",tags:[{label:"Alimenta\xE7\xE3o",type:"tag-primary"}],badges:[{label:"Urgente",type:"badge-danger"}],progress:{percentage:75,collected:1500,goal:2e3}},{id:"criancas",title:"Crian\xE7as que cuidamos",description:"Fornecemos moradia e cuidado para as crian\xE7as sem-teto.",image:"../assets/media/projects-children-media.jpg",imageAlt:"Homeless Children",tags:[{label:"Cuidados",type:"tag-success"}],badges:[{label:"Urgente",type:"badge-danger"},{label:"Quase completo",type:"badge-warning"}],progress:{percentage:85,collected:8500,goal:1e4}},{id:"educacao",title:"Ajuda para a educa\xE7\xE3o",description:"Fornecemos educa\xE7\xE3o e ferramentas para atingir a autossufici\xEAncia.",image:"../assets/media/projects-education-media.jpg",imageAlt:"Education",tags:[{label:"Educa\xE7\xE3o",type:"tag-info"}],badges:[{label:"Completo",type:"badge-success"}],progress:{percentage:100,collected:1e4,goal:1e4}}];function N(e){let t=document.createElement("div");t.id=e.id,t.className="card project-card";let o=document.createElement("div");o.className="card-image-container";let n=document.createElement("img");n.src=e.image,n.alt=e.imageAlt,n.className="card-image",o.appendChild(n);let c=document.createElement("div");c.className="card-content";let m=document.createElement("div");m.className="badges-tags-container",e.tags.forEach(s=>{let d=document.createElement("span");d.className=`tag ${s.type} tag-small`,d.textContent=s.label,m.appendChild(d)}),e.badges.forEach(s=>{let d=document.createElement("span");d.className=`badge ${s.type} badge-small`,d.textContent=s.label,m.appendChild(d)});let l=document.createElement("h3");l.className="card-title",l.textContent=e.title;let f=document.createElement("p");f.className="card-description",f.textContent=e.description;let i=document.createElement("div");i.className="project-progress";let u=document.createElement("div");u.className="progress-header";let p=document.createElement("span");p.className="progress-label",p.textContent="Progresso";let v=document.createElement("span");v.className="progress-percentage",v.textContent=`${e.progress.percentage}%`,u.appendChild(p),u.appendChild(v);let E=document.createElement("div");E.className="progress-container";let b=document.createElement("div");b.className="progress-bar",b.style.width=`${e.progress.percentage}%`,E.appendChild(b);let g=document.createElement("div");g.className="progress-stats";let h=document.createElement("span");h.textContent=`Arrecadado: R$ ${e.progress.collected.toLocaleString("pt-BR")}`;let a=document.createElement("span");a.textContent=`Objetivo: R$ ${e.progress.goal.toLocaleString("pt-BR")}`,g.appendChild(h),g.appendChild(a),i.appendChild(u),i.appendChild(E),i.appendChild(g);let r=document.createElement("button");return r.type="button",r.className="btn btn-primary donation-btn",r.setAttribute("data-project",e.title),r.textContent="Doe Agora",c.appendChild(m),c.appendChild(l),c.appendChild(f),c.appendChild(i),c.appendChild(r),t.appendChild(o),t.appendChild(c),t}function x(){let e=document.getElementById("projects-grid");if(!e){console.error("Projects grid container not found");return}e.innerHTML="",w.forEach(t=>{let o=N(t);e.appendChild(o)})}function I(e){let t=e.target,o=t.value.replace(/\D/g,"");if(o===""){t.value="";return}o=parseInt(o,10)/100;let n=o.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});t.value=n}document.addEventListener("DOMContentLoaded",()=>{x();let e=document.getElementById("donation-modal"),t=e.querySelector(".modal-close"),o=e.querySelector(".modal-cancel"),n=e,c=document.getElementById("donation-form"),m=document.getElementById("modal-project-description"),l=document.getElementById("donation-amount");function f(a){e.classList.add("active"),document.body.style.overflow="hidden";let r=document.getElementById("donation-amount");r&&r.focus();let s=w.find(y=>y.title===a),d=s?s.description:"Ajude-nos a alcan\xE7ar nossos objetivos fazendo uma doa\xE7\xE3o.";m.textContent=d}function i(){e.classList.remove("active"),document.body.style.overflow="",c.reset(),l&&(l.value="")}l&&(l.addEventListener("input",I),l.addEventListener("blur",I),l.addEventListener("focus",a=>{a.target.value||(a.target.value="")}));let u=document.getElementById("projects-grid");u&&u.addEventListener("click",a=>{if(a.target.classList.contains("donation-btn")||a.target.closest(".donation-btn")){a.preventDefault();let s=(a.target.classList.contains("donation-btn")?a.target:a.target.closest(".donation-btn")).getAttribute("data-project");f(s)}}),t.addEventListener("click",i),o.addEventListener("click",i),n.addEventListener("click",a=>{a.target===n&&i()});let p=document.getElementById("confirmation-modal"),v=document.getElementById("confirmation-message"),E=document.getElementById("confirm-donation-btn"),b=document.getElementById("cancel-confirmation-btn");function g(a,r){let s=`Ol\xE1, ${r}! Sua doa\xE7\xE3o de ${a} ser\xE1 muito bem-vinda. Tem certeza que deseja confirmar?`;document.getElementById("confirm-donation-btn").focus(),v.textContent=s,p.classList.add("active")}function h(){p.classList.remove("active")}c.addEventListener("submit",a=>{a.preventDefault();let r=new FormData(c),s=r.get("donation-amount"),d=r.get("donor-name"),y=r.get("donor-email");if(s){s=s.replace(/[^\d,]/g,"").replace(",",".");let C=parseFloat(s);if(isNaN(C)||C<=0){alert("Por favor, insira um valor v\xE1lido para a doa\xE7\xE3o.");return}}if(s&&d&&y){let C=r.get("donation-amount");g(C,d)}}),E.addEventListener("click",()=>{B("Doa\xE7\xE3o confirmada com sucesso! Obrigado pela sua generosidade. Entraremos em contato em breve.","success"),h(),i()}),b.addEventListener("click",h),document.addEventListener("keydown",a=>{a.key==="Escape"&&e.classList.contains("active")&&!p.classList.contains("active")&&i()})});})();
