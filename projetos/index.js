(()=>{(()=>{function B(e,a){let t=document.getElementById("toast-container");if(!t)return;let n=document.createElement("div");n.className=`toast toast-${a}`;let d=a==="success"?'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="currentColor"/></svg>':'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/></svg>';n.innerHTML=`
    <div class="toast-icon">${d}</div>
    <div class="toast-message">${e}</div>
    <button class="toast-close" aria-label="Fechar">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
      </svg>
    </button>
  `;let m=n.querySelector(".toast-close");m.addEventListener("click",()=>{C(n)}),t.appendChild(n),m.focus(),setTimeout(()=>{C(n)},5e3)}function C(e){e.classList.add("hiding"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}function N(){let e=document.querySelector(".header"),a=0;(window.pageYOffset||document.documentElement.scrollTop)>100?e.dataset.active="true":e.dataset.active="false",window.addEventListener("scroll",function(){let t=window.pageYOffset||document.documentElement.scrollTop;t>100?e.dataset.active="true":e.dataset.active="false",a=t})}function j(){let e=document.body,a=document.getElementById("nav-menu-button"),t=document.getElementById("nav-menu-drawer"),n=document.getElementById("nav-menu-drawer-backdrop");a.addEventListener("click",function(){e.classList.toggle("no-scroll");let d=t.dataset.active==="true";t.dataset.active=d?"false":"true"}),n.addEventListener("click",function(){e.classList.toggle("no-scroll");let d=t.dataset.active==="true";t.dataset.active=d?"false":"true"})}function I(){let e=document.getElementById("nav-dropdown-toggle-mobile");e&&e.addEventListener("click",function(){let a=document.getElementById("nav-dropdown-mobile");if(a){a.classList.toggle("active");let t=a.querySelectorAll(".nav-dropdown-item");a.classList.contains("active")?t.forEach(n=>{n.setAttribute("tabindex","0")}):t.forEach(n=>{n.setAttribute("tabindex","-1")})}})}document.addEventListener("DOMContentLoaded",function(){N(),j(),I()});var L=[{id:"alimentacao",title:"Ajuda para a alimenta\xE7\xE3o",description:"Fornecemos alimentos para os sem-teto e aqueles que precisam.",image:"../assets/media/projects-food-media.jpg",imageAlt:"Food",tags:[{label:"Alimenta\xE7\xE3o",type:"tag-primary"}],badges:[{label:"Urgente",type:"badge-danger"}],progress:{percentage:75,collected:1500,goal:2e3}},{id:"criancas",title:"Crian\xE7as que cuidamos",description:"Fornecemos moradia e cuidado para as crian\xE7as sem-teto.",image:"../assets/media/projects-children-media.jpg",imageAlt:"Homeless Children",tags:[{label:"Cuidados",type:"tag-success"}],badges:[{label:"Urgente",type:"badge-danger"},{label:"Quase completo",type:"badge-warning"}],progress:{percentage:85,collected:8500,goal:1e4}},{id:"educacao",title:"Ajuda para a educa\xE7\xE3o",description:"Fornecemos educa\xE7\xE3o e ferramentas para atingir a autossufici\xEAncia.",image:"../assets/media/projects-education-media.jpg",imageAlt:"Education",tags:[{label:"Educa\xE7\xE3o",type:"tag-info"}],badges:[{label:"Completo",type:"badge-success"}],progress:{percentage:100,collected:1e4,goal:1e4}}];function A(e){let a=document.createElement("div");a.id=e.id,a.className="card project-card";let t=document.createElement("div");t.className="card-image-container";let n=document.createElement("img");n.src=e.image,n.alt=e.imageAlt,n.className="card-image",t.appendChild(n);let d=document.createElement("div");d.className="card-content";let m=document.createElement("div");m.className="badges-tags-container",e.tags.forEach(l=>{let s=document.createElement("span");s.className=`tag ${l.type} tag-small`,s.textContent=l.label,m.appendChild(s)}),e.badges.forEach(l=>{let s=document.createElement("span");s.className=`badge ${l.type} badge-small`,s.textContent=l.label,m.appendChild(s)});let r=document.createElement("h3");r.className="card-title",r.textContent=e.title;let E=document.createElement("p");E.className="card-description",E.textContent=e.description;let i=document.createElement("div");i.className="project-progress";let u=document.createElement("div");u.className="progress-header";let g=document.createElement("span");g.className="progress-label",g.textContent="Progresso";let v=document.createElement("span");v.className="progress-percentage",v.textContent=`${e.progress.percentage}%`,u.appendChild(g),u.appendChild(v);let f=document.createElement("div");f.className="progress-container";let b=document.createElement("div");b.className="progress-bar",b.style.width=`${e.progress.percentage}%`,f.appendChild(b);let p=document.createElement("div");p.className="progress-stats";let h=document.createElement("span");h.textContent=`Arrecadado: R$ ${e.progress.collected.toLocaleString("pt-BR")}`;let o=document.createElement("span");o.textContent=`Objetivo: R$ ${e.progress.goal.toLocaleString("pt-BR")}`,p.appendChild(h),p.appendChild(o),i.appendChild(u),i.appendChild(f),i.appendChild(p);let c=document.createElement("button");return c.type="button",c.className="btn btn-primary donation-btn",c.setAttribute("data-project",e.title),c.textContent="Doe Agora",d.appendChild(m),d.appendChild(r),d.appendChild(E),d.appendChild(i),d.appendChild(c),a.appendChild(t),a.appendChild(d),a}function k(){let e=document.getElementById("projects-grid");if(!e){console.error("Projects grid container not found");return}e.innerHTML="",L.forEach(a=>{let t=A(a);e.appendChild(t)})}function w(e){let a=e.target,t=a.value.replace(/\D/g,"");if(t===""){a.value="";return}t=parseInt(t,10)/100;let n=t.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});a.value=n}document.addEventListener("DOMContentLoaded",()=>{k();let e=document.getElementById("donation-modal"),a=e.querySelector(".modal-close"),t=e.querySelector(".modal-cancel"),n=e,d=document.getElementById("donation-form"),m=document.getElementById("modal-project-description"),r=document.getElementById("donation-amount");function E(o){e.classList.add("active"),document.body.style.overflow="hidden";let c=document.getElementById("donation-amount");c&&c.focus();let l=L.find(x=>x.title===o),s=l?l.description:"Ajude-nos a alcan\xE7ar nossos objetivos fazendo uma doa\xE7\xE3o.";m.textContent=s}function i(){e.classList.remove("active"),document.body.style.overflow="",d.reset(),r&&(r.value="")}r&&(r.addEventListener("input",w),r.addEventListener("blur",w),r.addEventListener("focus",o=>{o.target.value||(o.target.value="")}));let u=document.getElementById("projects-grid");u&&u.addEventListener("click",o=>{if(o.target.classList.contains("donation-btn")||o.target.closest(".donation-btn")){o.preventDefault();let c=(o.target.classList.contains("donation-btn")?o.target:o.target.closest(".donation-btn")).getAttribute("data-project");E(c)}}),a.addEventListener("click",i),t.addEventListener("click",i),n.addEventListener("click",o=>{o.target===n&&i()});let g=document.getElementById("confirmation-modal"),v=document.getElementById("confirmation-message"),f=document.getElementById("confirm-donation-btn"),b=document.getElementById("cancel-confirmation-btn");function p(o,c){let l=`Ol\xE1, ${c}! Sua doa\xE7\xE3o de ${o} ser\xE1 muito bem-vinda. Tem certeza que deseja confirmar?`;document.getElementById("confirm-donation-btn").focus(),v.textContent=l,g.classList.add("active")}function h(){g.classList.remove("active")}d.addEventListener("submit",o=>{o.preventDefault();let c=new FormData(d),l=c.get("donation-amount"),s=c.get("donor-name"),x=c.get("donor-email");if(l){l=l.replace(/[^\d,]/g,"").replace(",",".");let y=parseFloat(l);if(isNaN(y)||y<=0){alert("Por favor, insira um valor v\xE1lido para a doa\xE7\xE3o.");return}}if(l&&s&&x){let y=c.get("donation-amount");p(y,s)}}),f.addEventListener("click",()=>{B("Doa\xE7\xE3o confirmada com sucesso! Obrigado pela sua generosidade. Entraremos em contato em breve.","success"),h(),i()}),b.addEventListener("click",h),document.addEventListener("keydown",o=>{o.key==="Escape"&&e.classList.contains("active")&&!g.classList.contains("active")&&i()})})})();})();
